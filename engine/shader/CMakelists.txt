include(${VIOLET_ROOT_DIR}/cmake/shader_compile.cmake)

add_custom_target("graphics_shader_generater" ALL)

set(SHADERS "")
list(APPEND SHADERS "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/blinn_phong.hlsl" "vert;frag")
list(APPEND SHADERS "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/debug.hlsl;vert;frag")
list(APPEND SHADERS "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/shadow.hlsl;vert")
list(APPEND SHADERS "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/sky.hlsl;vert;frag")
list(APPEND SHADERS "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/ui.hlsl;vert;frag")
target_shader_compile(
    "graphics_shader_generater"
    "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/blinn_phong.hlsl"
    "vert;frag"
    "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/include"
    "${CMAKE_CURRENT_SOURCE_DIR}/generated")
target_shader_compile(
    "graphics_shader_generater"
    "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/debug.hlsl"
    "vert;frag"
    "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/include"
    "${CMAKE_CURRENT_SOURCE_DIR}/generated")
target_shader_compile(
    "graphics_shader_generater"
    "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/shadow.hlsl"
    "vert"
    "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/include"
    "${CMAKE_CURRENT_SOURCE_DIR}/generated")
target_shader_compile(
    "graphics_shader_generater"
    "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/sky.hlsl"
    "vert;frag"
    "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/include"
    "${CMAKE_CURRENT_SOURCE_DIR}/generated")
target_shader_compile(
    "graphics_shader_generater"
    "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/ui.hlsl"
    "vert;frag"
    "${CMAKE_CURRENT_SOURCE_DIR}/hlsl/include"
    "${CMAKE_CURRENT_SOURCE_DIR}/generated")

install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/generated/ DESTINATION bin/engine/shader)